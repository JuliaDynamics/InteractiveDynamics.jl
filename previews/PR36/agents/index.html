<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Agent Based Models · InteractiveDynamics</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">InteractiveDynamics</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../trajectory/">Trajectory Evolution</a></li><li><a class="tocitem" href="../od/">Orbit Diagram</a></li><li><a class="tocitem" href="../cobweb/">Cobweb Diagram</a></li><li><a class="tocitem" href="../psos/">Poincaré Surface of Section</a></li><li><a class="tocitem" href="../brainscan/">Brainscanning PSOS</a></li><li><a class="tocitem" href="../billiards/">Billiards</a></li><li class="is-active"><a class="tocitem" href>Agent Based Models</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Agent Based Models</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Agent Based Models</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDynamics/InteractiveDynamics.jl/blob/master/docs/src/agents.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Agent-based-models-1"><a class="docs-heading-anchor" href="#Agent-based-models-1">Agent based models</a><a class="docs-heading-anchor-permalink" href="#Agent-based-models-1" title="Permalink"></a></h1><video width="100%" height="auto" controls autoplay loop>
<source src="https://raw.githubusercontent.com/JuliaDynamics/JuliaDynamics/master/videos/interact/agents.mp4?raw=true" type="video/mp4">
</video><p>This page describes functions that can be used in conjunction with <a href="https://juliadynamics.github.io/Agents.jl/dev/">Agents.jl</a> to animate and interact with agent based models.</p><p>The animation at the start of this page was done by running the <code>examples/daisyworld.jl</code> file, and see also an example application in <a href="https://juliadynamics.github.io/Agents.jl/dev/examples/schelling/">Agents.jl docs</a>.</p><article class="docstring"><header><a class="docstring-binding" id="InteractiveDynamics.abm_plot" href="#InteractiveDynamics.abm_plot"><code>InteractiveDynamics.abm_plot</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">abm_plot(model::ABM; kwargs...) → fig, abmstepper</code></pre><p>Plot an agent based model by plotting each individual agent as a marker and using the agent&#39;s position field as its location on the plot. Requires <code>Agents</code>.</p><p>Return the overarching <code>fig</code> object, as well as a struct <code>abmstepper</code> that can be used to interactively animate the evolution of the ABM and combine it with other subplots. To progress the ABM plot <code>n</code> steps simply do:</p><pre><code class="language-julia">Agents.step!(abmstepper, model, agent_step!, model_step!, n)</code></pre><p>You can still call this function with <code>n=0</code> to update the plot for a new <code>model</code>, without doing any stepping. From <code>fig</code> you can obtain the plotted axis (to e.g. turn off ticks, etc.) using <code>ax = content(fig[1, 1])</code>.</p><p><strong>Keywords</strong></p><ul><li><code>ac, as, am</code>: These three keywords decided the color, size, and marker, that each agent will be plotted as. They can each be either a constant or a <em>function</em>, which takes as an input a single argument and ouputs the corresponding value. For example:<pre><code class="language-julia"># ac = &quot;#338c54&quot;
ac(a) = a.status == :S ? &quot;#2b2b33&quot; : a.status == :I ? &quot;#bf2642&quot; : &quot;#338c54&quot;
# as = 10
as(a) = 10*randn() + 1
# as = :diamond
as(a) = a.status == :S ? :circle : a.status == :I ? :diamond : :rect</code></pre></li><li><code>scheduler = model.scheduler</code>: decides the plotting order of agents (which matters only if there is overlap).</li><li><code>offset = nothing</code>: If not <code>nothing</code>, it must be a function taking as an input an agent and outputting an offset position vector to be added to the agent&#39;s position (which matters only if there is overlap).</li><li><code>equalaspect = true</code>: Whether the plot should be of equal aspect ratio.</li><li><code>scatterkwargs = ()</code>: Additional keyword arguments propagated to the scatter plot.</li><li><code>resolution = (600, 600)</code>: Resolution of the fig.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/InteractiveDynamics.jl/blob/a3e8765fb7d66397d3d4547ead9060a71753985c/src/agents/plots_videos.jl#L3-L39">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="InteractiveDynamics.abm_play" href="#InteractiveDynamics.abm_play"><code>InteractiveDynamics.abm_play</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">abm_play(model, agent_step!, model_step!; kwargs...) → fig, abmstepper</code></pre><p>Launch an interactive application that plots an agent based model and can animate its evolution in real time. Requires <code>Agents</code>.</p><p>The agents are plotted exactly like in <a href="#InteractiveDynamics.abm_plot"><code>abm_plot</code></a>, while the two functions <code>agent_step!, model_step!</code> decide how the model will evolve, as in the standard approach of Agents.jl and its <code>step!</code> function.</p><p>The application has two buttons: &quot;run&quot; and &quot;reset&quot; which starts/stops the time evolution and resets the model to its original configuration. Two sliders control the animation speed: &quot;spu&quot; decides how many model steps should be done before the plot is updated, and &quot;sleep&quot; the <code>sleep()</code> time between updates.</p><p><strong>Keywords</strong></p><ul><li><code>ac, am, as, scheduler, offset, equalaspect, scatterkwargs</code>: propagated to <a href="#InteractiveDynamics.abm_plot"><code>abm_plot</code></a>.</li><li><code>spu = 1:100</code>: The values of the &quot;spu&quot; slider.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/InteractiveDynamics.jl/blob/a3e8765fb7d66397d3d4547ead9060a71753985c/src/agents/plots_videos.jl#L49-L66">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="InteractiveDynamics.abm_video" href="#InteractiveDynamics.abm_video"><code>InteractiveDynamics.abm_video</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">abm_video(file, model, agent_step! [, model_step!]; kwargs...)</code></pre><p>This function exports the animated time evolution of an agent based model into a video saved at given path <code>file</code>, by recording the behavior of <a href="#InteractiveDynamics.abm_play"><code>abm_play</code></a> (without sliders). The plotting is identical as in <a href="#InteractiveDynamics.abm_plot"><code>abm_plot</code></a>.</p><p><strong>Keywords</strong></p><ul><li><code>ac, am, as, scheduler, offset, equalaspect, scatterkwargs</code>: propagated to <a href="#InteractiveDynamics.abm_plot"><code>abm_plot</code></a>.</li><li><code>spf = 1</code>: Steps-per-frame, i.e. how many times to step the model before recording a new frame.</li><li><code>framerate = 30</code>: The frame rate of the exported video.</li><li><code>frames = 300</code>: How many frames to record in total.</li><li><code>resolution = (600, 600)</code>: Resolution of the fig.</li><li><code>axiskwargs = NamedTuple()</code>: Keyword arguments given to the main axis creation for e.g. setting <code>xticksvisible = false</code>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/InteractiveDynamics.jl/blob/a3e8765fb7d66397d3d4547ead9060a71753985c/src/agents/plots_videos.jl#L128-L143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="InteractiveDynamics.abm_data_exploration" href="#InteractiveDynamics.abm_data_exploration"><code>InteractiveDynamics.abm_data_exploration</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">abm_data_exploration(model::ABM, agent_step!, model_step!, params=Dict(); kwargs...)</code></pre><p>Open an interactive application for exploring an agent based model and the impact of changing parameters on the time evolution. Requires <code>Agents</code>.</p><p>The application evolves an ABM interactively and plots its evolution, while allowing changing any of the model parameters interactively and also showing the evolution of collected data over time (if any are asked for, see below). The agent based model is plotted and animated exactly as in <a href="#InteractiveDynamics.abm_play"><code>abm_play</code></a>, and the arguments <code>model, agent_step!, model_step!</code> are propagated there as-is.</p><p>Calling <code>abm_data_exploration</code> returns: <code>figure, agent_df, model_df</code>. So you can save the figure, but you can also access the collected data (if any).</p><p><strong>Interaction</strong></p><p>Besides the basic time evolution interaction of <a href="#InteractiveDynamics.abm_play"><code>abm_play</code></a>, additional functionality here allows changing model parameters in real time, based on the provided fourth argument <code>params</code>. This is a dictionary which decides which parameters of the model will be configurable from the interactive application. Each entry of <code>params</code> is a pair of <code>Symbol</code> to an <code>AbstractVector</code>, and provides a range of possible values for the parameter named after the given symbol (see example online). Changing a value in the parameter slides is only updated into the actual model when pressing the &quot;update&quot; button.</p><p>The &quot;reset&quot; button resets the model to its original agent and space state but it updates it to the currently selected parameter values. A red vertical line is displayed in the data plots when resetting, for visual guidance.</p><p><strong>Keywords</strong></p><ul><li><code>ac, am, as, scheduler, offset, equalaspect, scatterkwargs</code>: propagated to <a href="#InteractiveDynamics.abm_plot"><code>abm_plot</code></a>.</li><li><code>adata, mdata</code>: Same as the keyword arguments of <code>Agents.run!</code>, and decide which data of the model/agents will be collected and plotted below the interactive plot. Notice that data collection can only occur on plotted steps (and thus steps not plotted due to &quot;spu&quot; are also not data-collected).</li><li><code>alabels, mlabels</code>: If data are collected from agents or the model with <code>adata, mdata</code>, the corresponding plots have a y-label named after the collected data. Instead, you can give <code>alabels, mlabels</code> (vectors of strings with exactly same length as <code>adata, mdata</code>), and these labels will be used instead.</li><li><code>when = true</code>: When to perform data collection, as in <code>Agents.run!</code>.</li><li><code>spu = 1:100</code>: Values that the &quot;spu&quot; slider will obtain.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/InteractiveDynamics.jl/blob/a3e8765fb7d66397d3d4547ead9060a71753985c/src/agents/interactive_parameters.jl#L3-L44">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../billiards/">« Billiards</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 25 January 2021 21:34">Monday 25 January 2021</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
